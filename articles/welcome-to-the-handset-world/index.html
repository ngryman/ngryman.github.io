<!doctype html>
<!--                                                  _
                                                     | |
   _ __   __ _ _ __ _   _ _ __ ___   __ _ _ __    ___| |__
  | '_ \ / _` | '__| | | | '_ ` _ \ / _` | '_ \  / __| '_ \
  | | | | (_| | |  | |_| | | | | | | (_| | | | |_\__ \ | | |
  |_| |_|\__, |_|   \__, |_| |_| |_|\__,_|_| |_(_)___/_| |_|
          __/ |      __/ |
         |___/      |___/

  Because ASCII art matters...

  I salute you young h@x0r.
  I invite you to open the humans.txt file for more info about some cool stuff used to make this blog.

  May the source be with you :)

  ~ngryman();
-->
<html>

<head>
    <meta charset="utf-8">

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//themes.googleusercontent.com">

    <base href="http://ngryman.sh">
    <title>ngryman.sh â€¢ Welcome to the handset world</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="canonical" href="http://ngryman.sh/articles/welcome-to-the-handset-world">
    <link href="favicon.ico" rel="icon">

    <!-- twitter cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Welcome to the handset world">
    <!--<meta name="twitter:image" content="http://ngryman.sh/articles/welcome-to-the-handset-world.jpg?w=120">-->
    <meta name="twitter:url" content="http://ngryman.sh/articles/welcome-to-the-handset-world">
    <meta name="twitter:description" content="Welcome to the handset world
raf is your best friend
The null transform hack could be your best friend
Only change what is visible
Batch your changes
Create CSS rules on-the-fly
Re-use DOM

memory
dom">
    <meta name="twitter:site" content="@ngryman">
    <meta name="twitter:creator" content="@ngryman">

    <!-- open graph -->
    <meta property="og:type" content="article">
    <!--<meta property="og:title" content="http://ngryman.sh/articles/welcome-to-the-handset-world.jpg?w=120">-->
    <meta property="og:image" content="Welcome to the handset world">
    <meta property="og:url" content="http://ngryman.sh/articles/welcome-to-the-handset-world">
    <meta property="og:description" content="Welcome to the handset world
raf is your best friend
The null transform hack could be your best friend
Only change what is visible
Batch your changes
Create CSS rules on-the-fly
Re-use DOM

memory
dom">
    <meta property="og:site_name" content="http://ngryman.sh">

    <link href="vendor/prism/prism.css" rel="stylesheet">
	<link href="//fonts.googleapis.com/css?family=Lato|Lora:400,700" rel="stylesheet">
    <link href="app.css" rel="stylesheet">

</head>

<body>

<main>
    <article>

        <h1>Welcome to the handset world</h1>

	    <p>

		    <span class="author vcard">
			    <span>By</span>
			    <a class="url fn" rel="author" href="https://plus.google.com/116260634660700511285">Nicolas Gryman</a>.
		    </span>

		    <span class="reading-time">3 min read</span>

	    </p>

        <h1>Welcome to the handset world</h1>
<h2><code>raf</code> is your best friend</h2>
<h2>The null transform hack could be your best friend</h2>
<h2>Only change what is visible</h2>
<h2>Batch your changes</h2>
<h2>Create CSS rules on-the-fly</h2>
<h2>Re-use DOM</h2>
<ul>
<li>memory</li>
<li>dom addition/deletion cost</li>
<li>maintain the children count low (reflow)<h2>Size is like your weight</h2>
<h2>Round coordinates</h2>
</li>
<li>avoid the blur bug<h2>Spread changes over frames</h2>
<h2>CSS can kill you</h2>
</li>
<li>avoid rgba colors</li>
</ul>
<p>Imagine we live in a world where god is a css hacker, and you are a <code>div</code> in the middle of a crowd of <code>div</code>s obviously. For whatever reason he thinks you are a poor little thing and wants you to be wider, so he changes your size. What&#39;s happen? You take more space. People around you have to move farther and the crowd changes its <code>layout</code> because of you. This, in the real world as no <em>cost</em> as miss nature has the more powerful physic engine ever created. But on mobile, this is cost a lot.</p>
<p>This is a vast subject, very well covered on desktop, but sadly not enough for mobile. By mobile I mean every thing that nasically fits in your hands. I also mean less capable devices with limited CPU anf VRAM.</p>
<p>I have done several private projects on mobile, with different teams, each time I was very surprised of the lack of mobile knowledge. People basically follows best practices made for desktop or inifinite powered devices.</p>
<p>So, I will cover here every little nasty things I have discovered about mobile performance. I will only focus on DOM and rendering challenges.</p>
<p>Recently, I had the challenge of building a smooth infinite TV guide for every web capable mobile device. Event this is a private project, closed source, I will take a more simpler example of that because it gathers everything I discovered.</p>
<p>On mobile, rendering take a LOT of importance. Too often, I see people trying to optimize their JavaScript algorithm, without considering rendering.
On miss-placed line of JavaScript can kill your performance. And this is not linked to JavaScript execution time, but with the consequence of the changes you make.</p>
<h2>Keep you framerate high</h2>
<p>This is a trendy subject, and a lot of articles on how to profile and optimize framerate exists. We can read everywhere, &quot;let&#39;s make 60fps webapps&quot;. So let&#39;s focus on that.</p>
<h2>raf is your best friend</h2>
<h2>Batch</h2>
<p>This is nothing new. And it&#39;s even more important on mobile. But let&#39;s me explain what I mean by batching.
Your logic code must not overtake 16ms, if not, another</p>
<h2>Avoid resizing</h2>
<p>Ok, so we said let&#39;s avoid reflow. Resizing is something very hungry. It forces reflow + recalculate styles + paint. So, definitively, avoid!
If, like in my example, you have a well determined number of sized elements. Reuse them!! As we said earlier, the NTH is free as you don&#39;t touch anything, </p>
<h2>Reuse DOM elements</h2>
<p>DOM manipulation is very slow, not only because the browser</p>
<ul>
<li>maintain the children count low (reflow)<h2>Round coordinates</h2>
</li>
<li>avoid the blur bug<h2>Use of null tranform hack</h2>
<h2>Create dynamic css rules</h2>
<h2>Spread work over frames</h2>
<h2>CSS can kill you</h2>
</li>
<li>avoid rgba colors</li>
</ul>


        <section id="comments">
            <div id="disqus_thread"></div>
        </section>
    </article>
</main>

<!-- external deps, from a global cdn -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>


<!-- external deps, hosted by bibi -->
<script src="vendor/prism/prism.min.js"></script>

<!--application-->
<script src="app.js"></script>

</body>
</html>
